<p-card>
    <h2  *ngIf="currentAction == 'edit'">Alterando Produto</h2>
    <h2  *ngIf="currentAction == 'new'">Novo Produto</h2>
    <form [formGroup]="productForm">
        <div class="ui-g">
            <div class="ui-g-4">
                <span class="ui-float-label">
                    <input formControlName="description" id="float-input" type="text" size="30" pInputText>
                    <label for="float-input">Descrição</label>
                </span>
            </div>
            <div class="ui-g-4">
                <span class="ui-float-label">
                    <input formControlName="barCode" id="float-input" type="text" size="30" pInputText>
                    <label for="float-input">Código de barras</label>
                </span>
            </div>
            <div class="ui-g-4">
                <span class="ui-float-label">
                    <input formControlName="rfid" id="float-input" type="text" size="30" pInputText>
                    <label for="float-input">RFID</label>
                </span>
            </div>
        </div>
        <div class="ui-g">
            <div class="ui-g-3">
                <label for="float-input">Preço de compra</label>
                <p-inputNumber formControlName="purchasePrice" mode="currency" currency="BRL"
                               locale="pt-BR"></p-inputNumber>
            </div>
            <div class="ui-g-3">
                <label for="float-input">Preço de venda</label>
                <p-inputNumber formControlName="salePrice" mode="currency" currency="BRL"
                               locale="pt-BR"></p-inputNumber>
            </div>
            <div class="ui-g-3">
                <p-dropdown [options]="categories" formControlName="categoryId"></p-dropdown>
            </div>
            <div class="ui-g-3 checkbox">
                <p-checkbox name="groupname" label="Produto da Cafeteria?" binary="true"
                            formControlName="isCoffeeShop"></p-checkbox>
            </div>
        </div>

        <div *ngIf="currentAction == 'new'">
            <p>Este produto será medido por:</p>
            <p-selectButton [options]="items" formControlName="weight"></p-selectButton>
        </div>
        <div>
            <p-fileUpload #productImage accept="image/*" [auto]="true" multiple="false"
                          [fileLimit]="1"
            ></p-fileUpload>
        </div>
    </form>

    <div *ngIf="currentAction == 'edit'">
        <p-button label="Alterar Produto" (click)="handleSubmitForm()"
                  [disabled]="productForm.invalid || hasProductImage"></p-button>
    </div>
    <div *ngIf="currentAction == 'new'">
        <p-button label="Novo Produto" (click)="handleSubmitForm()"
                  [disabled]="productForm.invalid || hasProductImage"></p-button>
    </div>
</p-card>
